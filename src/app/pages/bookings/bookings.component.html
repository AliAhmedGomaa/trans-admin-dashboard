<div class="bookings-page">
  <div class="title-row">
    <h2 class="page-title">{{ "BOOKINGS.TITLE" | translate }}</h2>
    <app-export-to-excell
      [url]="exportUrl"
      [params]="exportParams()"
    ></app-export-to-excell>
  </div>

  <div class="table-card">
    <div class="filters">
      <app-general-input
        [placeholder]="'FILTERS.CLIENT_NAME_PLACEHOLDER'"
        (valueChange)="onFilterChanged('search', $event)"
      />
      <app-general-dropdown
        [placeholder]="'FILTERS.SELECT_COMPANY'"
        [options]="companyOptions"
        (valueChange)="onFilterChanged('providerId', $event)"
      />
      <app-general-dropdown
        [placeholder]="'FILTERS.SELECT_STATUS'"
        [options]="statusOptions"
        (valueChange)="onFilterChanged('status', $event)"
      />
    </div>
    <app-shared-table
      [data]="data"
      [displayedColumns]="displayedColumns"
      [havePagination]="true"
      [title]="'Bookings'"
      [hasClickEvent]="true"
      [loading]="loading"
      (itemClicked)="onRowClick($event)"
      (pageChanged)="onPageChanged($event)"
    ></app-shared-table>
  </div>

  <ng-template #statusTpl let-row>
    <span class="status-pill" [ngClass]="row.status?.toLowerCase()">
      {{ statusLabel(row.status) }}
    </span>
  </ng-template>
</div>
